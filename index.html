<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <link rel="stylesheet" href="fonts.css">
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="css/index.css">
    <!-- <link rel="stylesheet" href="https://css-tricks.com/wp-content/themes/CSS-Tricks-17/style.css?cache_bust=1580015996754"> -->
    <title>Magic</title>
</head>
<body>
<header>
    <div class="container">
        <div class="logo"><a href="https://sveagruva.github.io">sveagruva</a></div>
        <nav>
            <ul>
                <li><a href="contacts.html">contacts</a></li>
                <li><a href="#">web</a></li>
                <li><a href="#">programming</a></li>
                <li><a href="#">other sites</a></li>
            </ul>
        </nav>
    </div>
</header>
<main>
    <section class="intro">
        <div class="container">
            <div class="intro-welcome">
                Welcome to the </br>
                sveagruva.github.io
                <div class="intro-links">
                    <a href="tg://resolve?domain=sveagruva">telegram</a>
                    <a target="_blank" href="https://github.com/sveagruva">github.com</a>
                </div>
            </div>
            <div class="intro-welcome">
                Welcome to the </br>
                sveagruva.github.io
                <div class="intro-links">
                    <a href="tg://resolve?domain=sveagruva">telegram</a>
                    <a target="_blank" href="https://github.com/sveagruva">github.com</a>
                </div>
            </div>
        </div>
    </section>
    <section class="languages">
        <div class="container">
            <span class="languages-label">This site about a coder</span>
            <div class="languages-content">
                <div class="languages-web">
                    <h2><a href="#">web</a></h2>
                    <h3><a href="#">HTML</a></h3>
                    <h3><a href="#">CSS</a></h3>
                    <h3><a href="#">JavaScript</a></h3>
                    <h3><a href="#">PHP</a></h3>
                </div>
                <div class="languages-programing">
                    <h2><a href="#">programing</a></h2>
                    <h3><a href="#">Python</a></h3>
                    <h3><a href="#">C#</a></h3>
                    <h3><a href="#">Java</a></h3>
                </div>
            </div>
        </div>
    </section>
    <section class="latest_repositories">
        <div class="container">
            <h2>latest repositories</h2>
            <div class="latest_repositories-content">
                <!-- <script>



                    let url = "https://api.github.com/users/sveagruva/repos";
                    let response = await  fetch(url);
                    console.log(response);
                    if(response.ok){
                        console.log(response);
                    }else{
                        document.querySelector(".latest_repositories").style.display='none';
                        document.querySelector(".other-sites").style.boxShadow ="none";
                    }
                    
                </script> -->
                <script>


                    function httpGet(theUrl)
                    {
                        var xmlHttp = new XMLHttpRequest();
                        xmlHttp.open( "GET", theUrl, false ); // false for synchronous request
                        xmlHttp.send( null );
                        return xmlHttp.responseText;
                    }
                    // оно работает !!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!

                    //code - то что мы якобы получили - начинай писать код для обработки

                    let name = [];
                    let data = [];
                    let IndexForStart = 0;
                    let IndexFroEnd = 0;
                    let dataLates = []; // repositories in descending order of dates

                    function get(code){
                        if(code.indexOf('"name"') != -1){
                            IndexForStart = code.indexOf('"name"') + 9;
                            IndexForEnd = code.indexOf('"', IndexForStart);
                            name.push(code.slice(IndexForStart, IndexForEnd));

                            IndexForStart = code.indexOf('"updated_at"') + 15;
                            IndexForEnd = code.indexOf('"', IndexForStart);
                            data.push(code.slice(IndexForStart, IndexForEnd));
                            let code2 = code.slice(IndexForEnd);
                            get(code2);
                        }
                    }

                    get(httpGet("https://api.github.com/users/sveagruva/repos"));

                    data.forEach(function(item, i, data) {
                        data[i] = data[i].replace("T", " ");
                        data[i] = data[i].replace("Z", "");
                    });

                    function orderdates(data, i2){
                        var min = "9999-99-99 99:99:99";
                        dataLates[i2] = 0;



                    


                        data.forEach(function(item, i, data) {
                            //data[i].slice(0,data[i].indexOf(" ")) -yesr
                            // let dataLocal = data[i].slice(0,data[i].indexOf(" "));
                            //console.log((data[i].slice(0,data[i].indexOf(" "))).slice(0,(data[i].slice(0,data[i].indexOf(" "))).indexOf("-",(data[i].slice(0,data[i].indexOf(" "))).slice(0,(data[i].slice(0,data[i].indexOf(" "))).indexOf("-")))));
                            if((data[i].slice(0,data[i].indexOf(" "))).slice(0,(data[i].slice(0,data[i].indexOf(" "))).indexOf("-")) <=  (min.slice(0,min.indexOf(" "))).slice(0,(min.slice(0,min.indexOf(" "))).indexOf("-"))){
                                //check yers
                                if((data[i].slice(0,data[i].indexOf(" "))).slice(0,(data[i].slice(0,data[i].indexOf(" "))).indexOf("-")) <  (min.slice(0,min.indexOf(" "))).slice(0,(min.slice(0,min.indexOf(" "))).indexOf("-"))){
                                    min = data[i];
                                    dataLates[i2] = i;
                                }else{
                                    // onetire = dataLocal.slice(dataLocal.indexOf("-")+1);
                                    // twotire = onetire.slice(0,onetire.indexOf("-"));

                                    // twotire = min.slice(0,min.indexOf(" ")).slice(min.slice(0,min.indexOf(" ")).indexOf("-")+1).slice(0,min.slice(0,min.indexOf(" ")).slice(min.slice(0,min.indexOf(" ")).indexOf("-")+1).indexOf("-"));


                                    // twotire = data[i].slice(0,data[i].indexOf(" ")).slice(data[i].slice(0,data[i].indexOf(" ")).indexOf("-")+1).slice(0,data[i].slice(0,data[i].indexOf(" ")).slice(data[i].slice(0,data[i].indexOf(" ")).indexOf("-")+1).indexOf("-"));

                                    if(data[i].slice(0,data[i].indexOf(" ")).slice(data[i].slice(0,data[i].indexOf(" ")).indexOf("-")+1).slice(0,data[i].slice(0,data[i].indexOf(" ")).slice(data[i].slice(0,data[i].indexOf(" ")).indexOf("-")+1).indexOf("-")) <= min.slice(0,min.indexOf(" ")).slice(min.slice(0,min.indexOf(" ")).indexOf("-")+1).slice(0,min.slice(0,min.indexOf(" ")).slice(min.slice(0,min.indexOf(" ")).indexOf("-")+1).indexOf("-"))){
                                        //check mount
                                        if(data[i].slice(0,data[i].indexOf(" ")).slice(data[i].slice(0,data[i].indexOf(" ")).indexOf("-")+1).slice(0,data[i].slice(0,data[i].indexOf(" ")).slice(data[i].slice(0,data[i].indexOf(" ")).indexOf("-")+1).indexOf("-")) == min.slice(0,min.indexOf(" ")).slice(min.slice(0,min.indexOf(" ")).indexOf("-")+1).slice(0,min.slice(0,min.indexOf(" ")).slice(min.slice(0,min.indexOf(" ")).indexOf("-")+1).indexOf("-"))){
                                            //check day
                                            if(data[i].slice(0,data[i].indexOf(" ")).slice(data[i].indexOf(data[i].slice(0,data[i].indexOf(" ")).slice(data[i].slice(0,data[i].indexOf(" ")).indexOf("-")+1).slice(0,data[i].slice(0,data[i].indexOf(" ")).slice(data[i].slice(0,data[i].indexOf(" ")).indexOf("-")+1).indexOf("-")))+3) <= min.slice(0,min.indexOf(" ")).slice(min.indexOf(min.slice(0,min.indexOf(" ")).slice(min.slice(0,min.indexOf(" ")).indexOf("-")+1).slice(0,min.slice(0,min.indexOf(" ")).slice(min.slice(0,min.indexOf(" ")).indexOf("-")+1).indexOf("-")))+3)){
                                                if(data[i].slice(0,data[i].indexOf(" ")).slice(data[i].indexOf(data[i].slice(0,data[i].indexOf(" ")).slice(data[i].slice(0,data[i].indexOf(" ")).indexOf("-")+1).slice(0,data[i].slice(0,data[i].indexOf(" ")).slice(data[i].slice(0,data[i].indexOf(" ")).indexOf("-")+1).indexOf("-")))+3) == min.slice(0,min.indexOf(" ")).slice(min.indexOf(min.slice(0,min.indexOf(" ")).slice(min.slice(0,min.indexOf(" ")).indexOf("-")+1).slice(0,min.slice(0,min.indexOf(" ")).slice(min.slice(0,min.indexOf(" ")).indexOf("-")+1).indexOf("-")))+3)){
                                                    //check hour sec nanosec
                                                    // two part -       data[i].slice(data[i].indexOf(" "))
                                                    // console.log(data[i].slice(data[i].indexOf(" ")));
                                                    // console.log(data[i].slice(data[i].indexOf(" ")).slice(0,data[i].slice(data[i].indexOf(" ")).indexOf(":")));
                                                    // console.log(data[i].slice(data[i].indexOf(" ")).slice(data[i].slice(data[i].indexOf(" ")).indexOf(":")+1).slice(0,data[i].slice(data[i].indexOf(" ")).slice(data[i].slice(data[i].indexOf(" ")).indexOf(":")+1).indexOf(":")));
                                                    if(data[i].slice(data[i].indexOf(" ")).slice(0,data[i].slice(data[i].indexOf(" ")).indexOf(":")) <= min.slice(min.indexOf(" ")).slice(0,min.slice(min.indexOf(" ")).indexOf(":"))){
                                                        if(data[i].slice(data[i].indexOf(" ")).slice(0,data[i].slice(data[i].indexOf(" ")).indexOf(":")) == min.slice(min.indexOf(" ")).slice(0,min.slice(min.indexOf(" ")).indexOf(":"))){
                                                            //check sec
                                                            if(data[i].slice(data[i].indexOf(" ")).slice(data[i].slice(data[i].indexOf(" ")).indexOf(":")+1).slice(0,data[i].slice(data[i].indexOf(" ")).slice(data[i].slice(data[i].indexOf(" ")).indexOf(":")+1).indexOf(":")) < min.slice(min.indexOf(" ")).slice(min.slice(min.indexOf(" ")).indexOf(":")+1).slice(0,min.slice(min.indexOf(" ")).slice(min.slice(min.indexOf(" ")).indexOf(":")+1).indexOf(":"))){
                                                                min = data[i];
                                                                dataLates[i2] = i;
                                                            }
                                                        }else{
                                                            min = data[i];
                                                            dataLates[i2] = i;
                                                        }
                                                    }
                                                }else{
                                                    min = data[i];
                                                    dataLates[i2] = i;
                                                }
                                            }
                                        }else{
                                            min = data[i];
                                            dataLates[i2] = i;
                                        }
                                    }
                                }
                            }
                        });

                        if(data[dataLates[i2]] != "9999-99-99 99:99:99"){
                            data[dataLates[i2]] = "9999-99-99 99:99:99";
                            // console.log("hi");     
                            orderdates(data, i2+1);
                        }
                    }     

                    orderdates(data, 0);
                    dataLates.pop();

    




                    for (let i = 0; i < 3; i++) {
                        if(dataLates[i] != undefined){
                            document.write("<a href='" + "https://google.com" + "'>" + name[dataLates[i]] + "</a>");
                        }
                    }
                </script>
            </div>
        </div>
    </section>
    <section class="other-sites">
        <div class="container">
            <h2>My other sites</h2>
            <div class="my-sites">
                <div class="site">
                    <div class="site-name">
                        <a href="https://sveagruva.github.io/Ptable/">Ptable</a>
                    </div>
                    <div class="site-descripcion">
                        Mendeleev's table is beautifully and modernly designed.
                        Of course with a dark theme:)
                    </div>
                </div>
                <div class="site">
                    <div class="site-name">
                        <a href="#">Ptable</a>
                    </div>
                    <div class="site-descripcion">
                        Mendeleev's table is beautifully and modernly designed.
                        Of course with a dark theme:)
                    </div>
                </div>
                <div class="site">
                    <div class="site-name">
                        <a href="#">Ptable</a>
                    </div>
                    <div class="site-descripcion">
                        Mendeleev's table is beautifully and modernly designed.
                        Of course with a dark theme:)
                    </div>
                </div>
                <div class="site">
                    <div class="site-name">
                        <a href="#">Ptable</a>
                    </div>
                    <div class="site-descripcion">
                        Mendeleev's table is beautifully and modernly designed.
                        Of course with a dark theme:)
                    </div>
                </div>

            </div>
        </div>
    </section>
</main>
</body>
</html>