<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <link rel="stylesheet" href="fonts.css">
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="css/contacts.css">
    <title>Contacts</title>
</head>
<body>
<header>
    <div class="container">
        <div class="logo"><a href="index.html">sveagruva</a></div>
        <nav>
            <ul>
                <li><a href="contacts.html">contacts</a></li>
                <li><a href="#">web</a></li>
                <li><a href="#">programming</a></li>
                <li><a href="#">other sites</a></li>
            </ul>
        </nav>
    </div>
</header>
<main>
    <section>
        <h1>
            Contacts
        </h1>
        <div class="contacts">
            <div class="contact-name">
                Alex Powell
            </div>
            <div class="contacts-content">
                <div class="contact">
                    <div class="contact-info">
                        @sveagruva
                    </div>
                    <div class="contact-img">
                        <svg enable-background="new 0 0 24 24" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="m9.417 15.181-.397 5.584c.568 0 .814-.244 1.109-.537l2.663-2.545 5.518 4.041c1.012.564 1.725.267 1.998-.931l3.622-16.972.001-.001c.321-1.496-.541-2.081-1.527-1.714l-21.29 8.151c-1.453.564-1.431 1.374-.247 1.741l5.443 1.693 12.643-7.911c.595-.394 1.136-.176.691.218z"/></svg>
                    </div>
                </div>
                <div class="contact">
                    <div class="contact-info">
                        TheThorAlex@gmail.com
                    </div>
                    <div class="contact-img">
                        <svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"viewBox="0 0 230.17 230.17" style="enable-background:new 0 0 230.17 230.17;" xml:space="preserve"><g><path d="M230,49.585c0-0.263,0.181-0.519,0.169-0.779l-70.24,67.68l70.156,65.518c0.041-0.468-0.085-0.94-0.085-1.418V49.585z"/><path d="M149.207,126.901l-28.674,27.588c-1.451,1.396-3.325,2.096-5.2,2.096c-1.836,0-3.672-0.67-5.113-2.013l-28.596-26.647L11.01,195.989c1.717,0.617,3.56,1.096,5.49,1.096h197.667c2.866,0,5.554-0.873,7.891-2.175L149.207,126.901z"/><path d="M115.251,138.757L222.447,35.496c-2.427-1.443-5.252-2.411-8.28-2.411H16.5c-3.943,0-7.556,1.531-10.37,3.866L115.251,138.757z"/><path d="M0,52.1v128.484c0,1.475,0.339,2.897,0.707,4.256l69.738-67.156L0,52.1z"/></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g></svg>
                    </div>
                </div>
            </div>
        </div>
    </section>
    <script>
    
    function httpGet(theUrl)
    {
        var xmlHttp = new XMLHttpRequest();
        xmlHttp.open( "GET", theUrl, false ); // false for synchronous request
        xmlHttp.send( null );
        return xmlHttp.responseText;
    }
    // оно работает !!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!

    //code - то что мы якобы получили - начинай писать код для обработки

    let name = [];
    let data = [];
    let IndexForStart = 0;
    let IndexFroEnd = 0;
    let dataLates = []; // repositories in descending order of dates

    function get(code){
        if(code.indexOf('"name"') != -1){
            IndexForStart = code.indexOf('"name"') + 9;
            IndexForEnd = code.indexOf('"', IndexForStart);
            name.push(code.slice(IndexForStart, IndexForEnd));

            IndexForStart = code.indexOf('"updated_at"') + 15;
            IndexForEnd = code.indexOf('"', IndexForStart);
            data.push(code.slice(IndexForStart, IndexForEnd));
            let code2 = code.slice(IndexForEnd);
            get(code2);
        }
    }

    get(httpGet("https://api.github.com/users/sveagruva/repos"));

    data.forEach(function(item, i, data) {
        data[i] = data[i].replace("T", " ");
        data[i] = data[i].replace("Z", "");
    });

    function orderdates(data, i2){
        var min = "9999-99-99 99:99:99";
        dataLates[i2] = 0;



    


        data.forEach(function(item, i, data) {
            //data[i].slice(0,data[i].indexOf(" ")) -yesr
            // let dataLocal = data[i].slice(0,data[i].indexOf(" "));
            //console.log((data[i].slice(0,data[i].indexOf(" "))).slice(0,(data[i].slice(0,data[i].indexOf(" "))).indexOf("-",(data[i].slice(0,data[i].indexOf(" "))).slice(0,(data[i].slice(0,data[i].indexOf(" "))).indexOf("-")))));
            if((data[i].slice(0,data[i].indexOf(" "))).slice(0,(data[i].slice(0,data[i].indexOf(" "))).indexOf("-")) <=  (min.slice(0,min.indexOf(" "))).slice(0,(min.slice(0,min.indexOf(" "))).indexOf("-"))){
                //check yers
                if((data[i].slice(0,data[i].indexOf(" "))).slice(0,(data[i].slice(0,data[i].indexOf(" "))).indexOf("-")) <  (min.slice(0,min.indexOf(" "))).slice(0,(min.slice(0,min.indexOf(" "))).indexOf("-"))){
                    min = data[i];
                    dataLates[i2] = i;
                }else{
                    // onetire = dataLocal.slice(dataLocal.indexOf("-")+1);
                    // twotire = onetire.slice(0,onetire.indexOf("-"));

                    // twotire = min.slice(0,min.indexOf(" ")).slice(min.slice(0,min.indexOf(" ")).indexOf("-")+1).slice(0,min.slice(0,min.indexOf(" ")).slice(min.slice(0,min.indexOf(" ")).indexOf("-")+1).indexOf("-"));


                    // twotire = data[i].slice(0,data[i].indexOf(" ")).slice(data[i].slice(0,data[i].indexOf(" ")).indexOf("-")+1).slice(0,data[i].slice(0,data[i].indexOf(" ")).slice(data[i].slice(0,data[i].indexOf(" ")).indexOf("-")+1).indexOf("-"));

                    if(data[i].slice(0,data[i].indexOf(" ")).slice(data[i].slice(0,data[i].indexOf(" ")).indexOf("-")+1).slice(0,data[i].slice(0,data[i].indexOf(" ")).slice(data[i].slice(0,data[i].indexOf(" ")).indexOf("-")+1).indexOf("-")) <= min.slice(0,min.indexOf(" ")).slice(min.slice(0,min.indexOf(" ")).indexOf("-")+1).slice(0,min.slice(0,min.indexOf(" ")).slice(min.slice(0,min.indexOf(" ")).indexOf("-")+1).indexOf("-"))){
                        //check mount
                        if(data[i].slice(0,data[i].indexOf(" ")).slice(data[i].slice(0,data[i].indexOf(" ")).indexOf("-")+1).slice(0,data[i].slice(0,data[i].indexOf(" ")).slice(data[i].slice(0,data[i].indexOf(" ")).indexOf("-")+1).indexOf("-")) == min.slice(0,min.indexOf(" ")).slice(min.slice(0,min.indexOf(" ")).indexOf("-")+1).slice(0,min.slice(0,min.indexOf(" ")).slice(min.slice(0,min.indexOf(" ")).indexOf("-")+1).indexOf("-"))){
                            //check day
                            if(data[i].slice(0,data[i].indexOf(" ")).slice(data[i].indexOf(data[i].slice(0,data[i].indexOf(" ")).slice(data[i].slice(0,data[i].indexOf(" ")).indexOf("-")+1).slice(0,data[i].slice(0,data[i].indexOf(" ")).slice(data[i].slice(0,data[i].indexOf(" ")).indexOf("-")+1).indexOf("-")))+3) <= min.slice(0,min.indexOf(" ")).slice(min.indexOf(min.slice(0,min.indexOf(" ")).slice(min.slice(0,min.indexOf(" ")).indexOf("-")+1).slice(0,min.slice(0,min.indexOf(" ")).slice(min.slice(0,min.indexOf(" ")).indexOf("-")+1).indexOf("-")))+3)){
                                if(data[i].slice(0,data[i].indexOf(" ")).slice(data[i].indexOf(data[i].slice(0,data[i].indexOf(" ")).slice(data[i].slice(0,data[i].indexOf(" ")).indexOf("-")+1).slice(0,data[i].slice(0,data[i].indexOf(" ")).slice(data[i].slice(0,data[i].indexOf(" ")).indexOf("-")+1).indexOf("-")))+3) == min.slice(0,min.indexOf(" ")).slice(min.indexOf(min.slice(0,min.indexOf(" ")).slice(min.slice(0,min.indexOf(" ")).indexOf("-")+1).slice(0,min.slice(0,min.indexOf(" ")).slice(min.slice(0,min.indexOf(" ")).indexOf("-")+1).indexOf("-")))+3)){
                                    //check hour sec nanosec
                                    // two part -       data[i].slice(data[i].indexOf(" "))
                                    // console.log(data[i].slice(data[i].indexOf(" ")));
                                    // console.log(data[i].slice(data[i].indexOf(" ")).slice(0,data[i].slice(data[i].indexOf(" ")).indexOf(":")));
                                    // console.log(data[i].slice(data[i].indexOf(" ")).slice(data[i].slice(data[i].indexOf(" ")).indexOf(":")+1).slice(0,data[i].slice(data[i].indexOf(" ")).slice(data[i].slice(data[i].indexOf(" ")).indexOf(":")+1).indexOf(":")));
                                    if(data[i].slice(data[i].indexOf(" ")).slice(0,data[i].slice(data[i].indexOf(" ")).indexOf(":")) <= min.slice(min.indexOf(" ")).slice(0,min.slice(min.indexOf(" ")).indexOf(":"))){
                                        if(data[i].slice(data[i].indexOf(" ")).slice(0,data[i].slice(data[i].indexOf(" ")).indexOf(":")) == min.slice(min.indexOf(" ")).slice(0,min.slice(min.indexOf(" ")).indexOf(":"))){
                                            //check sec
                                            if(data[i].slice(data[i].indexOf(" ")).slice(data[i].slice(data[i].indexOf(" ")).indexOf(":")+1).slice(0,data[i].slice(data[i].indexOf(" ")).slice(data[i].slice(data[i].indexOf(" ")).indexOf(":")+1).indexOf(":")) < min.slice(min.indexOf(" ")).slice(min.slice(min.indexOf(" ")).indexOf(":")+1).slice(0,min.slice(min.indexOf(" ")).slice(min.slice(min.indexOf(" ")).indexOf(":")+1).indexOf(":"))){
                                                min = data[i];
                                                dataLates[i2] = i;
                                            }
                                        }else{
                                            min = data[i];
                                            dataLates[i2] = i;
                                        }
                                    }
                                }else{
                                    min = data[i];
                                    dataLates[i2] = i;
                                }
                            }
                        }else{
                            min = data[i];
                            dataLates[i2] = i;
                        }
                    }
                }
            }
        });
        data.forEach(function(item, i, data) {
        console.log(data[i],i2);
        });
        if(data[dataLates[i2]] != "9999-99-99 99:99:99"){
            data[dataLates[i2]] = "9999-99-99 99:99:99";
            // console.log("hi");     
            orderdates(data, i2+1);
        }
    }     

    orderdates(data, 0);
    dataLates.pop();
    dataLates.forEach(function(item, i, dataLates) {
        console.log(dataLates[i]);
    });
    
    </script>
</main>
</body>
</html>